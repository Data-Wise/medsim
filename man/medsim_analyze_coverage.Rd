% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze.R
\name{medsim_analyze_coverage}
\alias{medsim_analyze_coverage}
\title{Analyze Coverage Rates}
\usage{
medsim_analyze_coverage(
  results,
  ci_levels = c(0.9, 0.95, 0.99),
  ci_suffix = "_ci",
  by_scenario = TRUE
)
}
\arguments{
\item{results}{A medsim_results object from \code{\link[=medsim_run]{medsim_run()}}}

\item{ci_levels}{Numeric vector: nominal confidence levels to check
(default: c(0.90, 0.95, 0.99))}

\item{ci_suffix}{Character: suffix for CI columns (default: "_ci")
E.g., if parameter is "indirect", looks for "indirect_ci_lower" and
"indirect_ci_upper"}

\item{by_scenario}{Logical: Compute coverage separately for each scenario
(default TRUE)}
}
\value{
A list with class "medsim_coverage" containing:
\itemize{
\item \code{coverage}: data.frame with coverage rates
\item \code{by_scenario}: data.frame with coverage by scenario (if by_scenario=TRUE)
\item \code{summary}: Overall summary statistics
}
}
\description{
Computes coverage rates for confidence intervals from simulation results.
Requires that the simulation method returns confidence interval bounds
(e.g., \code{ci_lower}, \code{ci_upper}).
}
\details{
\subsection{Coverage Interpretation}{

Coverage rate is the proportion of confidence intervals that contain the
true parameter value. For a 95\% CI, expect ~95\% coverage in large samples.
\itemize{
\item Coverage < nominal: CI too narrow (anti-conservative)
\item Coverage â‰ˆ nominal: CI has correct width
\item Coverage > nominal: CI too wide (conservative)
}
}

\subsection{Column Naming Conventions}{

The function looks for columns named:
\itemize{
\item \verb{\{parameter\}_ci_lower} and \verb{\{parameter\}_ci_upper} (default)
\item Or custom suffix: \verb{\{parameter\}\{ci_suffix\}_lower} and \verb{\{parameter\}\{ci_suffix\}_upper}
}
}
}
\examples{
\dontrun{
# Method that returns CIs
my_method <- function(data, params) {
  # ... estimation
  list(
    indirect = estimate,
    indirect_ci_lower = ci[1],
    indirect_ci_upper = ci[2]
  )
}

results <- medsim_run(my_method, scenarios, config)

# Analyze coverage
coverage <- medsim_analyze_coverage(results)

print(coverage$coverage)
#>   parameter  coverage_90  coverage_95  coverage_99
#>   indirect   0.902        0.951        0.991
}

}
\seealso{
\code{\link[=medsim_analyze]{medsim_analyze()}}, \code{\link[=medsim_analyze_power]{medsim_analyze_power()}}
}
