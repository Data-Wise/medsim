% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/config.R
\name{medsim_config}
\alias{medsim_config}
\title{Create Simulation Configuration}
\usage{
medsim_config(
  mode = "auto",
  n_replications = NULL,
  n_cores = NULL,
  scenarios = "all",
  output_dir = "simulation_results",
  seed = 12345,
  ...
)
}
\arguments{
\item{mode}{Character: "auto", "test", "local", or "cluster"
\itemize{
\item "auto": Detect based on environment variables (SLURM, PBS, LSF)
\item "test": Quick validation (~30 seconds)
\item "local": Development on local machine (~15 minutes)
\item "cluster": Production on HPC cluster (hours)
}}

\item{n_replications}{Integer: Number of Monte Carlo replications. If NULL,
uses mode defaults (test=20, local=100, cluster=1000)}

\item{n_cores}{Integer: Number of CPU cores for parallel processing. If NULL,
auto-detects (all cores - 2 on local, SLURM_CPUS_PER_TASK on cluster)}

\item{scenarios}{Character: "all" or "test". Use "test" for single challenging
scenario during development}

\item{output_dir}{Character: Directory for saving results}

\item{seed}{Integer: Random seed for reproducibility}

\item{...}{Additional custom parameters}
}
\value{
A list with simulation configuration parameters
}
\description{
Creates a configuration object for simulation studies. Automatically detects
whether running on local machine or HPC cluster and adjusts parameters
accordingly.
}
\details{
\subsection{Execution Modes}{\tabular{lllll}{
   Mode \tab Replications \tab Cores \tab Runtime \tab Use Case \cr
   test \tab 20 \tab 4 \tab ~30s \tab Quick validation \cr
   local \tab 100 \tab auto \tab ~15m \tab Development \cr
   cluster \tab 1000 \tab SLURM \tab hours \tab Production \cr
}

}

\subsection{Environment Detection}{

When mode = "auto", checks for:
\itemize{
\item SLURM_JOB_ID (SLURM scheduler)
\item PBS_JOBID (PBS/Torque scheduler)
\item LSB_JOBID (LSF scheduler)
}

If any are found, uses "cluster" mode. Otherwise, uses "local" mode.
}

\subsection{Custom Parameters}{

You can add custom parameters via \code{...}:

\if{html}{\out{<div class="sourceCode r">}}\preformatted{config <- medsim_config(
  mode = "local",
  n_bootstrap = 5000,
  alpha = 0.05,
  custom_param = "value"
)
}\if{html}{\out{</div>}}
}
}
\examples{
# Auto-detect environment
config <- medsim_config(mode = "auto")

# Explicit test mode for quick validation
config_test <- medsim_config(mode = "test")

# Local mode with custom replications
config_local <- medsim_config(
  mode = "local",
  n_replications = 500
)

# Cluster mode (auto-detects SLURM cores)
config_cluster <- medsim_config(mode = "cluster")

# Custom parameters
config_custom <- medsim_config(
  mode = "local",
  n_bootstrap = 1000,
  ci_level = 0.95
)

# Print configuration
print(config)

}
\seealso{
\code{\link[=medsim_detect_environment]{medsim_detect_environment()}}, \code{\link[=print.medsim_config]{print.medsim_config()}}
}
